"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[643,45],{3091:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(1413),i=t(885),o=(t(2791),t(6574)),a=t(184);function s(e){var n=e.items,t=e.setItems,s=e.getListStyle,c=e.getItemStyle,l=e.content,u=e.itemClickHandler,d=void 0===u?function(){}:u;return(0,a.jsx)(o.Z5,{onDragEnd:function(e){console.log(e),e.destination&&t(function(e,n,t){var r=Array.from(e),o=r.splice(n,1),a=(0,i.Z)(o,1)[0];return r.splice(t,0,a),r}(n,e.source.index,e.destination.index))},children:(0,a.jsx)(o.bK,{droppableId:"droppable",children:function(e,t){return(0,a.jsxs)("div",(0,r.Z)((0,r.Z)({},e.droppableProps),{},{ref:e.innerRef,style:s(t.isDraggingOver),children:[n.map((function(e,n){return(0,a.jsx)(o._l,{draggableId:e.id,index:n,children:function(t,i){return(0,a.jsx)("div",(0,r.Z)((0,r.Z)((0,r.Z)({onClick:function(n){return d(e,n)},ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{style:(0,r.Z)((0,r.Z)({},c(i.isDragging,e)),t.draggableProps.style),children:l(e,n)}))}},e.id)})),e.placeholder]}))}})})}},1795:function(e,n,t){t.d(n,{gI:function(){return p},lr:function(){return v}});var r=t(4942),i=t(885),o=t(2791),a=t(9823),s=t(3746),c=t(165),l=t(7411),u=t(3400),d=t(184);function f(e){var n=e.file,t=e.name,r=e.setZoomed,a=(0,o.useState)(!1),s=(0,i.Z)(a,2);s[0],s[1];return(0,d.jsx)("img",{src:n,alt:t,className:"zoomableImageContent",onClick:function(e){e.stopPropagation(),r(n)}})}var p=function(e,n){return(0,r.Z)({border:"1px solid lightgray",borderRadius:"1.5rem",background:"white",padding:3,margin:2,overflow:"hidden",display:"flex",alignItems:"center",opacity:n.visible?1:.5,userSelect:"none"},"background",e?"lightgrey":"white")},v=function(e){return{display:"flex",flexDirection:"column",width:"100%",background:e?"rgba(0,255,255,0.1)":"transparent"}};n.ZP=function(e){var n=e.setZoomed,t=e.updateFiles,r=e.canRemove,i=void 0!==r&&r;return function(e,r){var p=e.file,v=e.progress,Z=e.loaded,g=e.preview,h=e.id,m=e.visible;return(0,d.jsxs)(o.Fragment,{children:[(0,d.jsxs)("div",{style:{marginRight:"auto"},children:[i?(0,d.jsx)(l.Z,{title:"\u0423\u0431\u0440\u0430\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",children:(0,d.jsx)(u.Z,{onClick:function(){return t({type:"remove",id:h})},children:(0,d.jsx)(a.Z,{})})}):null,(0,d.jsx)(l.Z,{title:m?"\u041d\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",children:(0,d.jsx)(u.Z,{onClick:function(){return t({type:"visibility",id:h,visible:!m})},children:m?(0,d.jsx)(s.Z,{}):(0,d.jsx)(c.Z,{})})}),r+1,") ",p.name]}),Z?(0,d.jsx)(f,{file:g,name:p.name,setZoomed:n}):"".concat(Math.round(1e4*v)/100,"%")]})}}},1726:function(e,n){window.location.hostname.toLowerCase();var t={vision:"/vision",file_receiver:"/file_receiver",extract:"/extract"};n.Z=t},8914:function(e,n,t){t.d(n,{Z:function(){return f}});var r=t(1413),i=t(5861),o=t(885),a=t(7757),s=t.n(a),c=t(4569),l=t.n(c),u=t(2791),d={method:"get",headers:{"Content-Type":"application/x-www-form-urlencoded"},cors:!1};function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,u.useState)(null),t=(0,o.Z)(n,2),a=t[0],c=t[1],f=(0,u.useState)(!1),p=(0,o.Z)(f,2),v=p[0],Z=p[1],g=(0,u.useState)(null),h=(0,o.Z)(g,2),m=h[0],x=h[1],j=(0,u.useState)(null),b=(0,o.Z)(j,2),y=b[0],k=b[1];(0,u.useEffect)((function(){var n=function(){var n=(0,i.Z)(s().mark((function n(){var t,i;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=(0,r.Z)((0,r.Z)((0,r.Z)({},d),e),y),n.next=3,l()(t);case 3:i=n.sent,x(i);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();v&&(0,i.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n();case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0),c(e.t0);case 9:Z(!1);case 10:case"end":return e.stop()}}),e,null,[[0,5]])})))()}),[v,y]);var w=(0,u.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Z(!0),x(null),c(null),k(e)}),[Z,x,c]);return{doFetch:w,error:a,isLoading:v,response:m}}},5316:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(885),i=t(1726),o=t(2791),a=t(8914),s=t(8777);function c(e){var n=e.linkName,t=void 0===n?"file_receiver":n,c=(0,s.Z)(),l=(0,r.Z)(c,2)[1].raiseAlert,u=(0,o.useState)(null),d=(0,r.Z)(u,2),f=d[0],p=d[1],v=(0,a.Z)({method:"post",headers:{"Content-Type":"multipart/form-data"},url:i.Z[t]}),Z=v.doFetch,g=v.error,h=v.isLoading,m=v.response;return(0,o.useEffect)((function(){!g&&!m||h||(p(!g),l(g?{text:"\u041f\u0440\u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u043d\u0430 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0438 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b",type:"error"}:{text:"\u0414\u0430\u043d\u043d\u044b\u0435 \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u044b \u043d\u0430 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443",type:"info",duration:-1}))}),[g,h,m]),{send:(0,o.useCallback)((function(e){var n=new FormData;e.forEach((function(e,t){var r=e.file;e.visible&&n.append("page-".concat(t),r)})),Z({data:n})}),[]),success:f,response:m}}},2643:function(e,n,t){t.r(n),t.d(n,{default:function(){return h}});var r=t(1413),i=t(885),o=t(2791),a=t(9596),s=t(7907),c=t(5562),l=t(9877),u=t(5532),d=t(3091),f=t(8777),p=t(8162),v=(t(8045),t(1795)),Z=(t(5316),t(184));function g(e){e.stopPropagation()}function h(){var e=(0,f.Z)(),n=(0,i.Z)(e,2)[1],t=n.raiseAlert,h=n.openTab,m=(0,p.Z)(),x=(0,i.Z)(m,2),j=x[0].files,b=x[1].updateFiles,y=(0,o.useState)(null),k=(0,i.Z)(y,2),w=k[0],C=k[1],I=(0,o.useCallback)((function(e){b({type:"add",files:e,updateFiles:b,raiseAlert:t})}),[]),P=(0,u.uI)({onDrop:I}),S=P.getRootProps,F=P.getInputProps,N=P.isDragActive;return(0,Z.jsxs)("div",(0,r.Z)((0,r.Z)({width:"100vw",height:"100vh",className:"pageRoot"},S()),{},{children:[(0,Z.jsxs)(l.Z,{onClick:function(e){g(e),h("processPage")},disabled:!j&&0==j.length,variant:"extended",className:"fab-next",children:[(0,Z.jsx)(s.Z,{}),"\u0412\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0430\u043d\u0430\u043b\u0438\u0437"]}),(0,Z.jsx)(c.Z,{open:!!w,onClose:function(e){e.stopPropagation(),C(null)},children:(0,Z.jsx)("img",{src:w,onClick:g})}),(0,Z.jsx)("input",(0,r.Z)({type:"file",name:"files",multiple:!0},F())),N?(0,Z.jsxs)("div",{className:"dropzone-drop_here",children:[(0,Z.jsx)(a.Z,{}),"\u0411\u0440\u043e\u0441\u0442\u0435 \u0444\u0430\u0439\u043b\u044b \u0437\u0434\u0435\u0441\u044c"]}):(0,Z.jsxs)("div",{className:"dropzone-calm_root",children:[(0,Z.jsxs)("div",{className:"dropzone-header",children:[(0,Z.jsx)(a.Z,{}),"\u041f\u0435\u0440\u0435\u043d\u0435\u0441\u0438\u0442\u0435 \u0444\u0430\u0439\u043b\u044b \u0438\u043b\u0438 \u043a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u0441\u044e\u0434\u0430"]}),(0,Z.jsx)("div",{onClick:g,className:"dropzone-content-container",children:(0,Z.jsx)(d.Z,{items:j,setItems:function(e){return b({type:"set",files:e})},getListStyle:v.lr,getItemStyle:v.gI,content:(0,v.ZP)({setZoomed:C,updateFiles:b,canRemove:!0})})})]})]}))}},9596:function(e,n,t){var r=t(5318);n.Z=void 0;var i=r(t(5649)),o=t(184),a=(0,i.default)((0,o.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"}),"CloudUpload");n.Z=a},8045:function(e,n,t){t.r(n),n.default={}}}]);
//# sourceMappingURL=643.15a9a308.chunk.js.map